<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entra ID èªè¨¼ãƒ»èªå¯ å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=Noto+Sans+JP:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; background-color: #f1f5f9; color: #0f172a; }
        
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 350px; }

        /* CSS-based Auth Flow Diagram (NO SVG/Mermaid) */
        .flow-container { 
            position: relative; 
            height: 200px; 
            background: linear-gradient(to right, #f8fafc, #eff6ff); 
            border-radius: 1rem; 
            overflow: hidden;
            border: 1px solid #dbeafe;
        }
        
        .flow-node { 
            position: absolute; 
            top: 50%; 
            transform: translateY(-50%); 
            width: 80px; 
            height: 80px; 
            border-radius: 12px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            color: white; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            z-index: 10;
            font-size: 0.8rem;
            text-align: center;
        }

        .node-user { left: 5%; background: #3b82f6; }
        .node-app { left: 40%; background: #8b5cf6; }
        .node-entra { left: 75%; background: #0ea5e9; }

        .flow-line { 
            position: absolute; 
            top: 50%; 
            height: 2px; 
            background-color: #cbd5e1; 
            z-index: 1; 
        }
        
        /* Animated dots to simulate data flow */
        .flow-dot {
            position: absolute;
            top: 50%;
            width: 8px;
            height: 8px;
            background-color: #f43f5e;
            border-radius: 50%;
            transform: translateY(-50%);
            z-index: 5;
            animation: flowMove 2s infinite linear;
        }

        @keyframes flowMove {
            0% { left: 10%; opacity: 0; }
            10% { opacity: 1; }
            45% { left: 35%; opacity: 1; }
            55% { left: 45%; opacity: 1; }
            90% { left: 70%; opacity: 1; }
            100% { left: 75%; opacity: 0; }
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
    </style>
    <!--
    CONTENT PLAN:
    1. Hero: Title and definition of Entra ID Auth knowledge.
    2. Concept: AuthN vs AuthZ visualized.
    3. Protocols: Chart.js Bar chart comparing OIDC, OAuth2, SAML.
    4. Flow: CSS Animation of token acquisition.
    5. Knowledge Matrix: 4 Key Areas (Grid layout).
    6. Code: Implementation snippet style.
    
    NO SVG / NO MERMAID CONFIRMED.
    -->
</head>
<body class="antialiased selection:bg-blue-100 selection:text-blue-900">

    <!-- Hero Section -->
    <header class="bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 text-white py-16 px-4 shadow-xl">
        <div class="container mx-auto max-w-6xl">
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-2/3">
                    <div class="inline-block bg-blue-500/20 border border-blue-400/30 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold mb-4 tracking-wider text-blue-100">
                        IDENTITY & ACCESS MANAGEMENT
                    </div>
                    <h1 class="text-4xl md:text-6xl font-black mb-6 leading-tight tracking-tight">
                        Microsoft <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300">Entra ID</span><br>
                        èªè¨¼ãƒ»èªå¯ å®Œå…¨ã‚¬ã‚¤ãƒ‰
                    </h1>
                    <p class="text-lg text-blue-100/90 max-w-2xl leading-relaxed">
                        å˜ãªã‚‹ã€Œãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã€ã®å®Ÿè£…ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>
                        ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€æ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€ãã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’çµ±åˆã™ã‚‹<br>
                        <strong>ãƒ¢ãƒ€ãƒ³ãªã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†</strong>ã®çŸ¥è­˜ä½“ç³»ã§ã™ã€‚
                    </p>
                </div>
                <div class="md:w-1/3 flex justify-center">
                    <!-- CSS Logo Representation -->
                    <div class="relative w-40 h-40 bg-white/10 rounded-3xl border border-white/20 flex items-center justify-center backdrop-blur-md shadow-2xl">
                        <div class="text-6xl">ğŸ†”</div>
                        <div class="absolute -top-4 -right-4 w-12 h-12 bg-green-400 rounded-full flex items-center justify-center font-bold text-slate-900 text-xs shadow-lg">Secure</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto max-w-6xl px-4 py-12 space-y-20">

        <!-- 1. Authentication vs Authorization -->
        <section>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-2xl shadow-sm p-8 border-l-8 border-blue-500">
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">èªè¨¼ (Authentication)</h2>
                    <p class="text-sm text-slate-500 mb-6 font-mono uppercase">Who are you?</p>
                    <div class="flex items-center gap-4">
                        <div class="text-4xl bg-blue-50 p-4 rounded-xl">ğŸ›‚</div>
                        <div>
                            <p class="font-bold text-slate-700">ã€Œèª°ã‹ã€ã‚’ç¢ºèªã™ã‚‹</p>
                            <p class="text-sm text-slate-600 mt-1">IDã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ç”Ÿä½“èªè¨¼ãªã©ã§æœ¬äººç¢ºèªã‚’è¡Œã†ãƒ—ãƒ­ã‚»ã‚¹ã€‚</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-2xl shadow-sm p-8 border-l-8 border-purple-500">
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">èªå¯ (Authorization)</h2>
                    <p class="text-sm text-slate-500 mb-6 font-mono uppercase">What can you do?</p>
                    <div class="flex items-center gap-4">
                        <div class="text-4xl bg-purple-50 p-4 rounded-xl">ğŸŸï¸</div>
                        <div>
                            <p class="font-bold text-slate-700">ã€Œæ¨©é™ã€ã‚’ç¢ºèªã™ã‚‹</p>
                            <p class="text-sm text-slate-600 mt-1">ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä¸ãˆã€ãƒªã‚½ãƒ¼ã‚¹ï¼ˆAPIç­‰ï¼‰ã¸ã®æ“ä½œã‚’è¨±å¯ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Protocols Chart -->
        <section class="bg-white rounded-3xl shadow-lg p-8 md:p-12">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4">ä¸»è¦ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®æ¯”è¼ƒ</h2>
                    <p class="text-slate-600 mb-6 leading-relaxed">
                        Entra IDé–‹ç™ºã«ãŠã„ã¦é¿ã‘ã¦é€šã‚Œãªã„ã®ãŒã€æ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ç†è§£ã§ã™ã€‚
                        ç¾ä»£ã®Webé–‹ç™ºã§ã¯<strong>OIDC</strong>ã¨<strong>OAuth 2.0</strong>ãŒä¸»æµã§ã™ãŒã€ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºã§SAMLãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-blue-500 mr-3"></span>
                            <span class="font-bold text-slate-700">OIDC (OpenID Connect)</span>
                            <span class="ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">èªè¨¼ã®ä¸»æµ</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-indigo-500 mr-3"></span>
                            <span class="font-bold text-slate-700">OAuth 2.0</span>
                            <span class="ml-auto text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded">èªå¯ã®åŸºç›¤</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-slate-400 mr-3"></span>
                            <span class="font-bold text-slate-700">SAML</span>
                            <span class="ml-auto text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded">ãƒ¬ã‚¬ã‚·ãƒ¼/ç¤¾å†…</span>
                        </li>
                    </ul>
                </div>
                <div class="md:w-1/2 w-full">
                    <div class="chart-container">
                        <canvas id="protocolChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Auth Flow Visualization -->
        <section>
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-slate-800">èªè¨¼ãƒ•ãƒ­ãƒ¼ã®ä»•çµ„ã¿</h2>
                <p class="text-slate-500 mt-2">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã—ã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¦APIã‚’å©ãã¾ã§ã®æµã‚Œ</p>
            </div>
            
            <div class="flow-container">
                <!-- Lines -->
                <div class="flow-line" style="left: 10%; width: 30%;"></div>
                <div class="flow-line" style="left: 45%; width: 30%;"></div>
                
                <!-- Animated Dot -->
                <div class="flow-dot"></div>

                <!-- Nodes -->
                <div class="flow-node node-user">
                    <div>
                        <div class="text-2xl mb-1">ğŸ‘¤</div>
                        User
                    </div>
                </div>
                <div class="flow-node node-app">
                    <div>
                        <div class="text-2xl mb-1">ğŸ’»</div>
                        App
                    </div>
                </div>
                <div class="flow-node node-entra">
                    <div>
                        <div class="text-2xl mb-1">â˜ï¸</div>
                        Entra ID
                    </div>
                </div>

                <!-- Labels -->
                <div class="absolute top-1/2 -translate-y-12 left-[25%] text-xs font-bold text-slate-500 bg-white/80 px-2 rounded">ãƒ­ã‚°ã‚¤ãƒ³è¦æ±‚</div>
                <div class="absolute top-1/2 translate-y-8 left-[25%] text-xs font-bold text-slate-500 bg-white/80 px-2 rounded">ç”»é¢è¡¨ç¤º</div>
                
                <div class="absolute top-1/2 -translate-y-12 left-[60%] text-xs font-bold text-slate-500 bg-white/80 px-2 rounded">èªè¨¼ãƒ»èªå¯</div>
                <div class="absolute top-1/2 translate-y-8 left-[60%] text-xs font-bold text-slate-500 bg-white/80 px-2 rounded">ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ</div>
            </div>
        </section>

        <!-- 4. The 4 Pillars of Knowledge -->
        <section>
            <h2 class="text-3xl font-bold text-slate-800 mb-8 border-b pb-4">ç¿’å¾—ã™ã¹ã4ã¤ã®çŸ¥è­˜é ˜åŸŸ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                
                <!-- Card 1 -->
                <div class="glass-card rounded-xl p-6 shadow-sm hover:shadow-md transition-all border-t-4 border-blue-500">
                    <div class="text-blue-500 text-3xl mb-4 font-bold">01</div>
                    <h3 class="font-bold text-lg text-slate-800 mb-3">åŸºç¤æ¦‚å¿µã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        OAuth 2.0ã¨OIDCã®é•ã„ã€å„ç¨®ãƒ•ãƒ­ãƒ¼ï¼ˆAuthorization Code Flowç­‰ï¼‰ã®ç†è§£ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆID/Access/Refreshï¼‰ã®å½¹å‰²ã¨å¯¿å‘½ã«ã¤ã„ã¦ã€‚
                    </p>
                </div>

                <!-- Card 2 -->
                <div class="glass-card rounded-xl p-6 shadow-sm hover:shadow-md transition-all border-t-4 border-indigo-500">
                    <div class="text-indigo-500 text-3xl mb-4 font-bold">02</div>
                    <h3 class="font-bold text-lg text-slate-800 mb-3">ã‚¢ãƒ—ãƒªç™»éŒ²ã¨è¨­å®š</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        Entra IDç®¡ç†ç”»é¢ã§ã®ã€ŒApp Registrationã€ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®ç™ºè¡Œã€‚ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIã®é©åˆ‡ãªè¨­å®šã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€‚
                    </p>
                </div>

                <!-- Card 3 -->
                <div class="glass-card rounded-xl p-6 shadow-sm hover:shadow-md transition-all border-t-4 border-purple-500">
                    <div class="text-purple-500 text-3xl mb-4 font-bold">03</div>
                    <h3 class="font-bold text-lg text-slate-800 mb-3">å®Ÿè£…ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        <strong>MSAL (Microsoft Authentication Library)</strong> ã®æ´»ç”¨ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ã€ã‚µã‚¤ãƒ¬ãƒ³ãƒˆæ›´æ–°ã€APIå‘¼ã³å‡ºã—ã®å®Ÿè£…ã‚¹ã‚­ãƒ«ã€‚
                    </p>
                </div>

                <!-- Card 4 -->
                <div class="glass-card rounded-xl p-6 shadow-sm hover:shadow-md transition-all border-t-4 border-cyan-500">
                    <div class="text-cyan-500 text-3xl mb-4 font-bold">04</div>
                    <h3 class="font-bold text-lg text-slate-800 mb-3">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‹ç”¨</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        æ¡ä»¶ä»˜ãã‚¢ã‚¯ã‚»ã‚¹ï¼ˆIPåˆ¶é™ãªã©ï¼‰ã€å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰ã®å¼·åˆ¶ã€‚B2Bï¼ˆã‚²ã‚¹ãƒˆæ‹›å¾…ï¼‰ã‚„B2Bã®æ§‹æˆã¨æ¨©é™ç®¡ç†ã€‚
                    </p>
                </div>

            </div>
        </section>

        <!-- 5. Code Snippet Style -->
        <section class="bg-slate-900 rounded-2xl p-8 shadow-2xl text-slate-300 font-mono text-sm overflow-hidden relative">
            <div class="absolute top-4 right-4 flex space-x-2">
                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                <div class="w-3 h-3 rounded-full bg-green-500"></div>
            </div>
            <h3 class="text-white font-sans font-bold mb-6">MSAL.js å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸</h3>
            
            <div class="space-y-2">
                <p><span class="text-purple-400">const</span> <span class="text-blue-400">msalConfig</span> = {</p>
                <p class="pl-4">auth: {</p>
                <p class="pl-8">clientId: <span class="text-green-400">"YOUR_CLIENT_ID"</span>,</p>
                <p class="pl-8">authority: <span class="text-green-400">"https://login.microsoftonline.com/YOUR_TENANT_ID"</span>,</p>
                <p class="pl-8">redirectUri: <span class="text-green-400">"https://your-app.com"</span></p>
                <p class="pl-4">}</p>
                <p>};</p>
                <br>
                <p><span class="text-slate-500">// ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†</span></p>
                <p><span class="text-purple-400">const</span> loginResponse = <span class="text-purple-400">await</span> msalInstance.<span class="text-yellow-300">loginPopup</span>(loginRequest);</p>
                <p><span class="text-slate-500">// ãƒˆãƒ¼ã‚¯ãƒ³å–å¾— (ã‚µã‚¤ãƒ¬ãƒ³ãƒˆ)</span></p>
                <p><span class="text-purple-400">const</span> tokenResponse = <span class="text-purple-400">await</span> msalInstance.<span class="text-yellow-300">acquireTokenSilent</span>(tokenRequest);</p>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-slate-400 py-12 text-center">
        <div class="container mx-auto">
            <p class="font-bold text-white mb-2">Entra ID Authentication Guide</p>
            <p class="text-xs mb-8">Modern Identity Knowledge Base</p>
            <div class="text-xs opacity-50">
                Created with Tailwind CSS & Chart.js<br>
                No SVG / No Mermaid
            </div>
        </div>
    </footer>

    <script>
        // --- Protocols Chart (Bar) ---
        const ctxProtocol = document.getElementById('protocolChart').getContext('2d');
        
        // Wrap label function
        function wrapLabel(str) {
            return str.match(/.{1,15}/g) || [str];
        }

        new Chart(ctxProtocol, {
            type: 'bar',
            data: {
                labels: ['ãƒ¢ãƒ€ãƒ³ã•', 'å®Ÿè£…ã®å®¹æ˜“ã•', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½', 'ãƒ¬ã‚¬ã‚·ãƒ¼å¯¾å¿œ'],
                datasets: [
                    {
                        label: 'OIDC / OAuth 2.0',
                        data: [10, 8, 9, 3],
                        backgroundColor: 'rgba(59, 130, 246, 0.8)', // Blue 500
                        borderRadius: 6,
                    },
                    {
                        label: 'SAML',
                        data: [4, 3, 7, 10],
                        backgroundColor: 'rgba(148, 163, 184, 0.5)', // Slate 400
                        borderRadius: 6,
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { 
                        beginAtZero: true, 
                        max: 10,
                        grid: { color: '#f1f5f9' },
                        ticks: { display: false } 
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                const label = item.chart.data.labels[item.dataIndex];
                                return Array.isArray(label) ? label.join(' ') : label;
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
